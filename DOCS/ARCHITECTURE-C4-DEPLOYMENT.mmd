C4Deployment
    title Retag - Deployment Diagram (Production)

    Deployment_Node(browser, "User Browser", "Chrome / Edge / Safari") {
        Container(client, "Next.js App (Client)", "Executado no navegador")
    }

    Deployment_Node(vercel, "Vercel", "Edge Network + Serverless") {
        Container(fe, "Frontend", "Next.js + React + TypeScript")
    }

    Deployment_Node(render, "Render", "Node.js Runtime") {
        Container(be, "Backend API", "NestJS")
    }

    Deployment_Node(gcp, "Google Cloud", "Managed Infrastructure") {
        ContainerDb(db, "MySQL Database", "MySQL (Cloud Managed)")
    }

    System_Ext(openai, "OpenAI API", "IA para sugestão de preço")
    System_Ext(google, "Google OAuth2", "Autenticação social")
    System_Ext(resend, "Resend API", "Envio de e-mails")

    Rel(browser, fe, "HTTPS")
    Rel(fe, be, "HTTPS (REST + JWT)")
    Rel(be, db, "SSL/TCP 3306")
    Rel(be, openai, "HTTPS")
    Rel(be, google, "OAuth2")
    Rel(be, resend, "HTTPS")
